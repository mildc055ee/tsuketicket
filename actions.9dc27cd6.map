{"version":3,"sources":["ts/device.ts","ts/download.ts","ts/actions.ts"],"names":[],"mappings":";AACA,aAAA,QAAA,YAAA,EADA,IAAM,EAAK,UAAU,UACrB,SAAgB,IACX,OAAA,EAAG,SAAS,WACZ,EAAG,SAAS,SACZ,EAAG,SAAS,YACZ,EAAG,SAAS,UAER,SAEC,EAAG,SAAS,SACjB,EAAG,SAAS,aAAe,EAAG,SAAS,UAEnC,SAGA,KAdT,QAAA,WAAA;;ACCA,aAAA,QAAA,YAAA,EAFA,IAAA,EAAA,QAAA,YAEA,SAAgB,EAAU,EAAkB,EAAkB,GACvD,IAAA,EAAY,YACZ,EAAiB,EACjB,EACE,IADF,EAEG,IAIL,GAAA,UAAU,iBAAkB,CACzB,IAAA,EAA0B,SAAS,eAAe,GAAU,SAAS,EAAW,GACtF,OAAO,UAAU,WAAW,EAAS,EAAQ,IAAI,OAE7C,CACE,IAAA,EAA4B,SAAS,eAAe,GACtD,EAAS,EAAO,YAGhB,GAAiB,OAAjB,EAAA,aAAsB,CACnB,IAAA,EAAM,IAAI,MAChB,EAAI,OAAS,WACN,IAAA,EAAY,SAAS,cAAc,UACzC,EAAU,MAAQ,EAClB,EAAU,OAAS,EACnB,EAAO,WAAW,MAAM,UAAU,EAAK,EAAG,EAAG,EAAmB,GAChE,EAAS,EAAO,aAIZ,IAAA,EAAI,SAAS,cAAc,KACjC,EAAE,SAAc,EAAQ,IAAI,EAC5B,EAAE,KAAO,EACT,EAAE,QAAQ,YAAc,CAAC,EAAW,EAAE,SAAU,EAAE,MAAM,KAAK,KAC7D,SAAS,KAAK,YAAY,GAC1B,EAAE,QACF,SAAS,KAAK,YAAY,IAnC5B,QAAA,UAAA;;ACGA,aAAA,QAAA,YAAA,EALA,IAAA,EAAA,QAAA,cACA,SAAS,eAAe,UAAU,QAAU,WAC3C,EAAA,UAAU,OAAQ,QAAS,QAG5B,SAAS,eAAe,UAAU,QAAU,WAC3C,OAAO,SAAS","file":"actions.9dc27cd6.map","sourceRoot":"../src","sourcesContent":["const UA = navigator.userAgent;\nexport function deviceType(): string{\n\tif( UA.includes('iPhone')\n\t\t|| UA.includes('iPod')\n\t\t|| UA.includes('Android')\n\t\t|| UA.includes('Mobile')\n\t) {\n\t\treturn 'mobile';\n\t}\n\telse if (UA.includes('iPad')\n\t\t|| UA.includes('Android') && !UA.includes('Mobile')\n\t) {\n\t\treturn 'tablet';\n\t}\n\telse {\n\t\treturn 'pc'\n\t}\n}","import { deviceType } from './device';\n\nexport function saveImage(canvasId: string, fileName: string, format: string) {\n\tconst MIME_TYPE = 'image/png';\n\tconst FILE_EXTENTION = format;\n\tconst defaultSize = {\n\t\twidth: 345,\n\t\theight: 209\n\t};\n\n\t// for IE, Edge\n\tif (navigator.msSaveOrOpenBlob) {\n\t\tconst blob = <HTMLCanvasElement>document.getElementById(canvasId).msToBlob(MIME_TYPE, 1);\n\t\twindow.navigator.msSaveBlob(blob, `${fileName}.${FILE_EXTENTION}`)\n\t}\n\telse {\n\t\tconst canvas = <HTMLCanvasElement>document.getElementById(canvasId);\n\t\tlet imgURL = canvas.toDataURL();\n\n\t\t//mobile or tablet?\n\t\tif (deviceType() !== 'pc'){\n\t\t\tconst img = new Image();\n\t\t\timg.onload = () => {\n\t\t\t\tconst imgCanvas = document.createElement('canvas');\n\t\t\t\timgCanvas.width = defaultSize.width;\n\t\t\t\timgCanvas.height = defaultSize.height;\n\t\t\t\tcanvas.getContext('2d').drawImage(img, 0, 0, defaultSize.width, defaultSize.height);\n\t\t\t\timgURL = canvas.toDataURL();\n\t\t\t}\n\t\t};\n\n\t\tconst a = document.createElement('a');\n\t\ta.download = `${fileName}.${FILE_EXTENTION}`;\n\t\ta.href = imgURL;\n\t\ta.dataset.downloadurl = [MIME_TYPE, a.download, a.href].join(':');\n\t\tdocument.body.appendChild(a);\n\t\ta.click();\n\t\tdocument.body.removeChild(a);\n\t}\n}\n","import { saveImage } from './download';\ndocument.getElementById('create').onclick = () => {\n\tsaveImage('card', 'tsuke', 'png');\n}\n\ndocument.getElementById('reload').onclick = () => {\n\twindow.location.reload();\n}"]}