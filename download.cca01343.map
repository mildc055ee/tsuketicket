{"version":3,"sources":["ts/download.ts"],"names":[],"mappings":";AAIA,SAAS,EAAU,EAAkB,EAAkB,GAChD,IAAA,EAAY,YACZ,EAAiB,EAGnB,GAAA,UAAU,iBAAkB,CACzB,IAAA,EAA0B,SAAS,eAAe,GAAU,SAAS,EAAW,GACtF,OAAO,UAAU,WAAW,EAAS,EAAQ,IAAI,OAE7C,CACE,IACA,EAD4B,SAAS,eAAe,GACpC,UAAU,EAAW,GACrC,EAAI,SAAS,cAAc,KACjC,EAAE,SAAc,EAAQ,IAAI,EAC5B,EAAE,KAAO,EACT,EAAE,QAAQ,YAAc,CAAC,EAAW,EAAE,SAAU,EAAE,MAAM,KAAK,KAC7D,SAAS,KAAK,YAAY,GAC1B,EAAE,QACF,SAAS,KAAK,YAAY,IAtB5B,SAAS,eAAe,UAAU,QAAU,WAC3C,EAAU,OAAQ,QAAS","file":"download.cca01343.map","sourceRoot":"../src","sourcesContent":["document.getElementById('create').onclick = () => {\n\tsaveImage('card', 'tsuke', 'png');\n}\n\nfunction saveImage(canvasId: string, fileName: string, format: string) {\n\tconst MIME_TYPE = 'image/png';\n\tconst FILE_EXTENTION = format;\n\n\t// for IE, Edge\n\tif (navigator.msSaveOrOpenBlob) {\n\t\tconst blob = <HTMLCanvasElement>document.getElementById(canvasId).msToBlob(MIME_TYPE, 1);\n\t\twindow.navigator.msSaveBlob(blob, `${fileName}.${FILE_EXTENTION}`)\n\t}\n\telse {\n\t\tconst canvas = <HTMLCanvasElement>document.getElementById(canvasId);\n\t\tconst imgURL = canvas.toDataURL(MIME_TYPE, 1);\n\t\tconst a = document.createElement('a');\n\t\ta.download = `${fileName}.${FILE_EXTENTION}`;\n\t\ta.href = imgURL;\n\t\ta.dataset.downloadurl = [MIME_TYPE, a.download, a.href].join(':');\n\t\tdocument.body.appendChild(a);\n\t\ta.click();\n\t\tdocument.body.removeChild(a);\n\t}\n}\n"]}